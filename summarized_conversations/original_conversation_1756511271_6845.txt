{'role': 'assistant', 'content': 'Let\'s create the Nginx configuration file that would be included in the Docker setup:\n\n<function_calls>\n<create-file file_path="docker/nginx/conf.d/default.conf">\n# Default Nginx configuration for Legal Prejudice Analysis Project\n\nserver {\n    listen 80;\n    server_name localhost;\n\n    # Access and error logs\n    access_log /var/log/nginx/access.log;\n    error_log /var/log/nginx/error.log;\n\n    # Security headers\n    add_header X-Frame-Options "SAMEORIGIN";\n    add_header X-XSS-Protection "1; mode=block";\n    add_header X-Content-Type-Options "nosniff";\n    add_header Referrer-Policy "strict-origin-when-cross-origin";\n    add_header Content-Security-Policy "default-src \'self\'; script-src \'self\' \'unsafe-inline\' \'unsafe-eval\'; style-src \'self\' \'unsafe-inline\'; img-src \'self\' data:; font-src \'self\' data:; connect-src \'self\'";\n\n    # Proxy settings\n    proxy_http_version 1.1;\n    proxy_set_header Host $host;\n    proxy_set_header X-Real-IP $remote_addr;\n    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n    proxy_set_header X-Forwarded-Proto $scheme;\n    proxy_buffering on;\n    client_max_body_size 100M;\n\n    # API Server\n    location /api/ {\n        proxy_pass http://api-server:5000/;\n        proxy_read_timeout 90;\n    }\n\n    # API Documentation\n    location /api/docs/ {\n        proxy_pass http://api-server:5000/docs/;\n    }\n\n    # Admin Interface\n    location /admin/ {\n        proxy_pass http://api-server:5000/admin/;\n    }\n\n    # Web Frontend (Calculator and UI)\n    location / {\n        proxy_pass http://web-frontend:80/;\n        proxy_read_timeout 90;\n    }\n\n    # Health check endpoint\n    location /health {\n        access_log off;\n        return 200 "healthy\\n";\n    }\n\n    # Static files caching\n    location ~* \\.(js|css|png|jpg|jpeg|gif|ico|svg|woff|woff2|ttf|eot)$ {\n        proxy_pass http://web-frontend:80;\n        expires 30d;\n        access_log off;\n        add_header Cache-Control "public, max-age=2592000";\n    }\n\n    # Error pages\n    error_page 404 /404.html;\n    error_page 500 502 503 504 /50x.html;\n    location = /50x.html {\n        root /usr/share/nginx/html;\n    }\n}\n\n# HTTPS server - commented out by default, uncomment and configure for production\n# server {\n#     listen 443 ssl http2;\n#     server_name localhost;\n#\n#     # SSL certificates\n#     ssl_certificate /etc/nginx/certs/server.crt;\n#     ssl_certificate_key /etc/nginx/certs/server.key;\n#\n#     # SSL settings\n#     ssl_protocols TLSv1.2 TLSv1.3;\n#     ssl_prefer_server_ciphers on;\n#     ssl_ciphers \'ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256\';\n#     ssl_session_timeout 1d;\n#     ssl_session_cache shared:SSL:10m;\n#     ssl_session_tickets off;\n#\n#     # HSTS (comment out if not needed)\n#     add_header Strict-Transport-Security "max-age=63072000" always;\n#\n#     # Same configuration as HTTP server\n#     access_log /var/log/nginx/access.log;\n#     error_log /var/log/nginx/error.log;\n#\n#     # Security headers\n#     add_header X-Frame-Options "SAMEORIGIN";\n#     add_header X-XSS-Protection "1; mode=block";\n#     add_header X-Content-Type-Options "nosniff";\n#     add_header Referrer-Policy "strict-origin-when-cross-origin";\n#     add_header Content-Security-Policy "default-src \'self\'; script-src \'self\' \'unsafe-inline\' \'unsafe-eval\'; style-src \'self\' \'unsafe-inline\'; img-src \'self\' data:; font-src \'self\' data:; connect-src \'self\'";\n#\n#     # Proxy settings\n#     proxy_http_version 1.1;\n#     proxy_set_header Host $host;\n#     proxy_set_header X-Real-IP $remote_addr;\n#     proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n#     proxy_set_header X-Forwarded-Proto $scheme;\n#     proxy_buffering on;\n#     client_max_body_size 100M;\n#\n#     # API Server\n#     location /api/ {\n#         proxy_pass http://api-server:5000/;\n#         proxy_read_timeout 90;\n#     }\n#\n#     # API Documentation\n#     location /api/docs/ {\n#         proxy_pass http://api-server:5000/docs/;\n#     }\n#\n#     # Admin Interface\n#     location /admin/ {\n#         proxy_pass http://api-server:5000/admin/;\n#     }\n#\n#     # Web Frontend (Calculator and UI)\n#     location / {\n#         proxy_pass http://web-frontend:80/;\n#         proxy_read_timeout 90;\n#     }\n#\n#     # Health check endpoint\n#     location /health {\n#         access_log off;\n#         return 200 "healthy\\n";\n#     }\n#\n#     # Static files caching\n#     location ~* \\.(js|css|png|jpg|jpeg|gif|ico|svg|woff|woff2|ttf|eot)$ {\n#         proxy_pass http://web-frontend:80;\n#         expires 30d;\n#         access_log off;\n#         add_header Cache-Control "public, max-age=2592000";\n#     }\n#\n#     # Error pages\n#     error_page 404 /404.html;\n#     error_page 500 502 503 504 /50x.html;\n#     location = /50x.html {\n#         root /usr/share/nginx/html;\n#     }\n# }\n</create-file>\n</function_calls>', 'tool_calls': None}